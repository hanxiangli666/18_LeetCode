这两张图分别展示了解决这类问题的两个不同侧面：一个是“数学巧解” **（图1，第268题），一个是** “集合查找”（图2，第448题）。

刚才我们分析了集合（Set）的方法。现在针对图1（268题 丢失的数字）中使用的 `sum()` 方法，我来拆解一下这种思维是怎么来的。

### 针对图1 (268题)：数学求和法

代码核心：`sum(range(len(nums)+1)) - sum(nums)`

这种方法的思维逻辑叫做“总账对账法”。

#### 1. 怎么想到的？

想象一下你是个收银员：

* 你知道今天**应该**收多少钱（比如账单显示应该有 5050 元）。
* 你数了一下**实际**抽屉里的钱（发现只有 5000 元）。
* **直觉：** 既然每一笔账都是确定的，那少的那部分钱（**$5050 - 5000 = 50$**）肯定就是丢失的那一张钞票。

对应到题目：

* **理想状态：** 题目说数组包含 **$[0, n]$**，如果不缺数字，总和应该是 **$0 + 1 + 2 + ... + n$**。这个和我们可以直接算出来（即 `sum(range(n+1))`）。
* **现实状态：** 数组 `nums` 里少了一个数，我们把数组里现有的数加起来（即 `sum(nums)`）。
* **做减法：** 理想总和 - 现实总和 = 丢失的那个数字。

#### 2. 为什么要用这种方法？（为了省空间）

这种方法的**最大优势**在于它不需要额外的存储空间。

* **集合法（Set）：** 需要开辟一个 **$O(N)$** 大小的空间来存哈希表。如果 **$N$** 很大，内存消耗大。
* **求和法（Math）：** 只需要几个变量存和，空间复杂度是极致的 **$O(1)$**。这完美符合题目进阶要求中提到的“不使用额外空间”。

---

### 对比图2 (448题)：为什么这题不用求和法？

你可能会问：*既然求和法这么好（省空间），为什么第 448 题（找到所有消失的数字）不用求和法，而要用 Set 或者标记法呢？*

这是一个非常关键的区分点：

1. **信息的模糊性：**
   * **268题（只缺1个）：** 差值是唯一的。比如总和差了 5，那肯定缺的是 5。
   * **448题（缺多个）：** 如果总和差了 5，它可能是缺了一个 5，也可能是缺了 2 和 3，或者是 1 和 4。 **求和法无法区分“组合”** 。
2. **结论：**
   * 如果题目保证 **只缺一个** ， **求和法** （或异或法）是最优解，最省空间。
   * 如果题目 **缺多个** ，必须使用**集合法（Set）** 或者 **原地哈希（利用数组下标标记）** 来逐个确认谁不在。

### 总结

* **图1的代码逻辑：** 用“本来应该有的总数”减去“现在手里的总数”，剩下的就是丢的。适合“单兵作战”（只找一个）。
* **图2的代码逻辑：** 拿着名单（Set）一个个核对，谁没来记谁。适合“批量查找”。
